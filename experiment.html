<!DOCTYPE html>
<html>
    <head>
        <title>Rich-Gureckis_Generalizability_newtitle</title>
        <!-- jsPsych materials/plugins-->
        <script src="jspsych-6.3.1/jspsych.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-html-keyboard-response.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-html-button-response.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-survey-text.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-survey-multi-select.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-fullscreen.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-survey-multi-choice.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-image-button-response.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-preload.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-survey-multi-choice.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-instructions.js"></script>
        <link rel="stylesheet" href="jspsych-6.3.1/css/jspsych.css" type="text/css">
        <link rel="shortcut icon" type="image/png" href="bee-favicon.png"/>

        <!-- Experiment modules -->
        <script type="text/javascript" src="modules/welcome.js"></script>
        <script type="text/javascript" src="modules/instructions.js"></script>
        <script type="text/javascript" src="modules/test.js"></script>
        <script type="text/javascript" src="modules/post_questionnaire.js"></script>
    </head>
    <body></body>
    <script>
    
        var timeline = [];

        timeline.push({
          type: 'fullscreen',
          fullscreen_mode: true
        });

        var condition_assignment = jsPsych.randomization.sampleWithoutReplacement(['jj', 'conditionB', 'conditionC'], 1)[0];

        jsPsych.data.addProperties({
            condition: condition_assignment
        });

        console.log(condition_assignment);

        var images = [
                        'bees-with-color/bee-A2SM.svg',
                        'bees-with-color/bee-B2DM.svg',
                        'bees-with-color/bee-A1SM.svg',
                        'bees-with-color/bee-A1DM.svg'
                    ];

        var preload = {
            type: 'preload',
            images: images,
            max_load_time: 30000,
            message: 'Please wait while the experiment loads',
            error_message: 'The experiment failed to load. Please contact the researcher.'
        };

        timeline.push(preload);
        timeline.push(welcome_screen);
        timeline.push(instructions_sequence);
        timeline.push(test);
        timeline.push(post_questionnaire);

        // exit fullscreen mode
        timeline.push({
          type: 'fullscreen',
          fullscreen_mode: false
        });
      
        jsPsych.init({
          timeline: timeline,
          default_iti: 150, 
          exclusions: {
            min_width: 800,
            min_height: 600},
          on_finish: function() {
              jsPsych.data.displayData();
          }
        });
        
    </script>
</html>
