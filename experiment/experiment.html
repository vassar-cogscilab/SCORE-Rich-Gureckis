<!DOCTYPE html>
<html>
    <head>
        <title>Rich-Gureckis_Generalizability_newtitle</title>
        <!-- jsPsych materials/plugins-->
        <script src="jspsych-6.3.1/jspsych.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-html-keyboard-response.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-html-button-response.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-survey-text.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-survey-multi-select.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-fullscreen.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-survey-multi-choice.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-image-button-response.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-preload.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-survey-multi-choice.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-instructions.js"></script>
        <link rel="stylesheet" href="jspsych-6.3.1/css/jspsych.css" type="text/css">
        <link rel="shortcut icon" type="image/png" href="bee-favicon.png"/>

        <script type="text/javascript" src="materials/bees.js"></script>
        <script type="text/javascript" src="modules/group_assignment.js"></script>

        <!-- Experiment modules -->
        <script type="text/javascript" src="modules/welcome.js"></script>
        <script type="text/javascript" src="modules/instructions.js"></script>
        <script type="text/javascript" src="modules/test.js"></script>
        <script type="text/javascript" src="modules/post_questionnaire.js"></script>

    </head>
    <body></body>
    <script>
    
        var timeline = [];

        // timeline.push({
        //   type: 'fullscreen',
        //   fullscreen_mode: true
        // });

        var preload = {
            type: 'preload',
            images: () => {
              var img = [];
              for (const i in BEES) {
                img.push(BEES[i].image);
              }
              return img;
            },
            max_load_time: 30000,
            message: 'Please wait while the experiment loads',
            error_message: 'The experiment failed to load. Please contact the researcher.'
        };

        timeline.push(preload);
        timeline.push(welcome_screen);
        timeline.push(instructions_sequence);
        timeline.push(practice_trial);
        timeline.push(mid_point_screen);
        timeline.push(actual_trial);
        timeline.push(post_questionnaire);

        // exit fullscreen mode
        // timeline.push({
        //   type: 'fullscreen',
        //   fullscreen_mode: false
        // });

        jsPsych.init({
          timeline: timeline,
          // default_iti: 150, 
          // exclusions: {
          //   min_width: 800,
          //   min_height: 600},
          on_finish: function() {
              jsPsych.data.displayData();
          }
        });
        
    </script>
</html>
